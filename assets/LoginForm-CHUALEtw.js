import{a as S,k as l,b as h,o as m,c as p,g as t,x,f as e,w as f,i as w,u as s,t as P,G as E,H as L,I as W}from"./index-CFz4G1Ud.js";import{_ as b,a as C,b as F}from"./Label.vue_vue_type_script_setup_true_lang-B1NerYAB.js";import{S as I}from"./Spinner-CL2A5OM2.js";import{u as j}from"./HomeView-j5nnav4R.js";import"./index-DCMURul0.js";import"./utils-DnNDQBbQ.js";const B={key:0,class:"z-50 absolute left-0 top-0 flex items-center justify-center w-full h-full bg-background/80 backdrop-blur-sm"},N={class:"grid gap-6 w-full max-w-[350px]"},M=e("div",{class:"grid gap-2 w-full text-center"},[e("h1",{class:"text-3xl font-bold"},"Login"),e("p",{class:"text-balance text-muted-foreground"}," Entre na sua conta GFU para continuar ")],-1),U={class:"flex flex-col items-center justify-center gap-4"},$={class:"grid gap-2 w-full"},q={class:"grid gap-2 w-full"},z={key:0,class:"text-red-500"},G={class:"flex flex-col items-center justify-center w-full"},D=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"size-6"},[e("path",{fillRule:"evenodd",d:"M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})],-1),J=e("span",null,"Ainda não é membro? ",-1),te=S({__name:"LoginForm",setup(Z){const A=W(),n=j(),r=l(""),i=l(""),u=l(""),g=l(0),a=l(""),v=h(()=>n.loginForm.isLoading),_=h(()=>r.value!==""&&i.value!==""&&a.value!==""&&!v.value),k=async()=>{if(!_.value)return;await n.login(r.value,i.value,a.value)||(u.value="Apelido ou senha incorretos.",A.handleReset(g.value),a.value="")},y=()=>{n.registerForm.step=1,n.setIsRegistering(!0)},R=o=>{g.value=o},T=()=>{console.error("ReCAPTCHA widget error."),a.value=""},V=()=>{console.log("ReCAPTCHA widget expired."),a.value=""},H=o=>{console.log("ReCAPTCHA widget response received."),a.value=o};return(o,d)=>(m(),p("form",{class:"flex flex-col items-center justify-center gap-4 w-full",novalidate:"",onSubmit:L(k,["prevent"])},[v.value?(m(),p("div",B,[t(I)])):x("",!0),e("div",N,[M,e("div",U,[e("div",$,[t(s(b),{for:"username"},{default:f(()=>[w("Apelido")]),_:1}),t(s(C),{id:"username",type:"text",required:"",autofocus:"",modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=c=>r.value=c)},null,8,["modelValue"])]),e("div",q,[t(s(b),{for:"password"},{default:f(()=>[w("Senha")]),_:1}),t(s(C),{id:"password",type:"password",required:"",modelValue:i.value,"onUpdate:modelValue":d[1]||(d[1]=c=>i.value=c)},null,8,["modelValue"]),u.value.length>0?(m(),p("span",z,P(u.value),1)):x("",!0)]),e("div",G,[t(s(E),{onWidgetId:R,onErrorCallback:T,onExpiredCallback:V,onLoadCallback:H})]),t(s(F),{type:"submit",class:"my-6 rounded-full w-16 h-16 disabled:bg-muted",disabled:!_.value},{default:f(()=>[D]),_:1},8,["disabled"])])]),e("div",{class:"grid mt-4 text-sm text-center md:block"},[J,e("button",{variant:"link",class:"underline hover:no-underline",onClick:y}," Junte-se agora, é de graça! ")])],32))}});export{te as default};
